{"version":3,"sources":["webpack:///./src/router.js","webpack:///./src/config.js","webpack:///./src/main.js","webpack:///./src/components/Arpage.vue","webpack:///./src/components/Arpage.vue?fcbc","webpack:///src/components/Arpage.vue","webpack:///./src/components/Arpage.vue?2c65","webpack:///./src/components/Setup.vue","webpack:///./src/components/Setup.vue?fe7d","webpack:///src/components/Setup.vue","webpack:///./src/components/Setup.vue?d194","webpack:///./src/components/Layout.vue","webpack:///./src/components/Layout.vue?a27e","webpack:///src/components/Layout.vue","webpack:///./src/components/Layout.vue?943b","webpack:///./src/state/local.js","webpack:///./src/state/modules/ui.js","webpack:///./src/state/modules/user.js"],"names":["Vue","use","routes","path","component","children","redirect","Arpage","app","token","state","version","commonDB","key","index","unique","datatypes","experience","url","dataModel","id","dataType","type","srcUrl","user","cb","store","Vuex","Store","strict","modules","ui","StateUser","config","productionTip","devtools","router","$mount","localDatabase","init","dbErrorHandle","event","console","log","target","errorCode","request","indexedDB","open","onerror","alert","onupgradeneeded","db","result","oldVersion","deleteObjectStore","createObjectStore","window","localDB","onsuccess","src","waiting","mutations","status","actions","context","commit","name","email","qa","set_user","location","info","set_qa","question","answer","user_wait","newSession","postData","uuidV1","position","lat","coords","latitude","lng","longitude","acc","accuracy","ts","timestamp","dispatch","$","ajax","data","headers","success","error","xhr","getNav","navigator","geolocation","getCurrentPosition","push","postAnswer","uid","qid","answerQuestion","setupUser","answers","save_local","tr","transaction","objectStore","put","check_local","localSession","get"],"mappings":"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","file":"static/js/app.65b37f26aa902525b7d8.js","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport Arpage from '@/components/Arpage'\nimport Setup from '@/components/Setup'\nimport Layout from '@/components/Layout'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      component: Layout,\n      children: [\n        { path: 'setup', component: Setup },\n        { path: '', redirect: 'ar' }\n      ]\n    },\n    {\n      path: '/ar',\n      component: Arpage\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router.js","export default {\r\n  app: 'can-ar',\r\n  token: 'dfa4t0ufshudvv0s0',\r\n  state: {\r\n    version: 3,\r\n    commonDB: {\r\n      key: 'id',\r\n      index: [\r\n        { index: 'key', path: 'key', unique: false }\r\n      ]\r\n    },\r\n    datatypes: {\r\n      experience: {\r\n        url: 'https://can-ar.server/experience',\r\n        dataModel: {\r\n          id: {\r\n            dataType: 'number'\r\n          },\r\n          type: {\r\n            dataType: 'number'\r\n          },\r\n          srcUrl: {\r\n            dataType: 'string'\r\n          }\r\n        },\r\n        index: [\r\n          { index: 'type', path: 'data.type', unique: false }\r\n        ]\r\n      },\r\n      user: {\r\n        url: 'https://can-ar.server/api',\r\n        dataModel: {\r\n          id: {\r\n            dataType: 'number'\r\n          },\r\n          type: {\r\n            dataType: 'number'\r\n          },\r\n          srcUrl: {\r\n            dataType: 'string'\r\n          }\r\n        },\r\n        index: [\r\n          { index: 'type', path: 'data.type', unique: false }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\n// import App from './App'\nimport Vuex from 'vuex'\nimport router from '@/router'\nimport BootstrapVue from 'bootstrap-vue'\nimport localDatabase from './state/local'\nimport StateInterface from './state/modules/ui'\nimport StateUser from './state/modules/user'\n\nVue.use(Vuex)\nVue.use(BootstrapVue)\n\n/* eslint-disable no-new */\n// new Vue({\n//   el: '#app',\n//   router,\n//   template: '<App/>',\n//   components: { App }\n// })\n\nvar cb = function () {\n  let store = new Vuex.Store({\n    strict: true,\n    modules: {\n      ui: StateInterface,\n      user: StateUser\n    }\n    // middlewares: [\n    //   Logger()\n    // ]\n  })\n\n  Vue.config.productionTip = false\n  Vue.config.devtools = true\n  new Vue({\n    router,\n    store\n  }).$mount('#app')\n  // new Vue({\n  //   el: '#app',\n  //   router,\n  //   store\n  // })\n  // new Vue({\n  //   el: '#app',\n  //   router,\n  //   store,\n  //   template: '<App/>',\n  //   components: { App }\n  // })\n}\nlocalDatabase.init(cb)\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-04097ebe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Arpage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Arpage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-04097ebe\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Arpage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Arpage.vue\n// module id = 11\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-04097ebe\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Arpage.vue\n// module id = 12\n// module chunks = 1","<template>\n  <div class=\"hello\">\n    <a-scene embedded arjs='trackingMethod: best;'>\n\n        <%--<a-marker-camera preset='custom' url='https://picspeanutbutter.azurewebsites.net/PICSstar.patt'></a-marker-camera>\n        --%>\n        <a-assets>\n     <img id='earth' src='https://raw.githubusercontent.com/aframevr/sample-assets/master/assets/images/space/earth_atmos_4096.jpg'/>\n     <img id='PicPic' src='/static/img/pics.jpg'/>\n</a-assets>\n   <a-anchor hit-testing-enabled='true'>\n\n          <a-entity id=\"jim\"\n     geometry=\"primitive: box; depth: 1; height: 1; width: 1\"\n     material='src: #PicPic;'\n     ring-on-beat=\"analyserEl: #analyser\"\n     position=\"0 0.25 0\">\n                <a-animation attribute=\"rotation\"\n            dur=\"7000\"\n            to=\"0 360 0\"\n            easing= \"linear\"\n            repeat=\"indefinite\">\n     </a-animation>\n\n          </a-entity>\n\n\n\n</a-anchor>\n<a-camera-static/>\n</a-scene>\n    <div class=\"modal fade\" id=\"questions\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"questionsLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"questionsLabel\">We hope you enjoyed your...</h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            ...\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n            <button type=\"button\" class=\"btn btn-primary\">Save changes</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'hello',\n  data () {\n    return {\n      msg: 'We have a static site'\n    }\n  },\n  computed: mapState([\n    'user'\n  ]),\n  created () {\n    this.$store.dispatch('init')\n  },\n  methods: {\n    answer: function (answer) {\n      this.$store.dispatch('answerQuestion', {answer})\n    }\n  }\n}\n</script>\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Arpage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('a-scene',{attrs:{\"embedded\":\"\",\"arjs\":\"trackingMethod: best;\"}},[_vm._v(\"\\n\\n        <%--\"),_c('a-marker-camera',{attrs:{\"preset\":\"custom\",\"url\":\"https://picspeanutbutter.azurewebsites.net/PICSstar.patt\"}}),_vm._v(\"\\n        --%>\\n        \"),_c('a-assets',[_c('img',{attrs:{\"id\":\"earth\",\"src\":\"https://raw.githubusercontent.com/aframevr/sample-assets/master/assets/images/space/earth_atmos_4096.jpg\"}}),_vm._v(\" \"),_c('img',{attrs:{\"id\":\"PicPic\",\"src\":\"/static/img/pics.jpg\"}})]),_vm._v(\" \"),_c('a-anchor',{attrs:{\"hit-testing-enabled\":\"true\"}},[_c('a-entity',{attrs:{\"id\":\"jim\",\"geometry\":\"primitive: box; depth: 1; height: 1; width: 1\",\"material\":\"src: #PicPic;\",\"ring-on-beat\":\"analyserEl: #analyser\",\"position\":\"0 0.25 0\"}},[_c('a-animation',{attrs:{\"attribute\":\"rotation\",\"dur\":\"7000\",\"to\":\"0 360 0\",\"easing\":\"linear\",\"repeat\":\"indefinite\"}})],1)],1),_vm._v(\" \"),_c('a-camera-static')],1),_vm._v(\" \"),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"questions\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"questionsLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\",attrs:{\"id\":\"questionsLabel\"}},[_vm._v(\"We hope you enjoyed your...\")]),_vm._v(\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_vm._v(\"\\n            ...\\n          \")]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"Close\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"}},[_vm._v(\"Save changes\")])])])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-04097ebe\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Arpage.vue\n// module id = 15\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-078c05ba\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Setup.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Setup.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-078c05ba\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Setup.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Setup.vue\n// module id = 16\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-078c05ba\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Setup.vue\n// module id = 17\n// module chunks = 1","<template>\n  <div>\n    <h2>Please tell us a little bit about you</h2>\n    <hr></hr>\n    <div class=\"form-group\">\n      <label for=\"gender\">Your gender:</label>\n      <select class=\"form-control\" id=\"gender\" v-model=\"gender\" aria-describedby=\"genderHelp\">\n        <option value=\"0\">I'd rather not say</option>\n        <option value=\"1\">Male</option>\n        <option value=\"2\">Female</option>\n        <option value=\"3\">Something else</option>\n      </select>\n      <small id=\"genderHelp\" class=\"form-text text-muted\">Because we all all different beasts</small>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"age\">Your Age</label>\n      <select class=\"form-control\" id=\"age\" v-model=\"age\" aria-describedby=\"ageHelp\">\n        <option value=\"0\">Select your age group</option>\n        <option value=\"1\">less than 10</option>\n        <option value=\"2\">10 to 20</option>\n        <option value=\"3\">20 to 40</option>\n        <option value=\"4\">more than 40</option>\n      </select>\n      <small id=\"ageHelp\" class=\"form-text text-muted\">So we can tailor to your age group</small>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"email\">Email address</label>\n      <input type=\"email\" class=\"form-control\" id=\"email\" v-model=\"email\" aria-describedby=\"emailHelp\" placeholder=\"Your email\">\n      <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n    </div>\n    <b-button variant=\"primary\" v-on:click=\"answer\">Continue</b-button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'setup',\n  data () {\n    return {\n      age: 0,\n      gender: 0,\n      email: null\n    }\n  },\n  created () {\n  },\n  methods: {\n    answer: function (answer) {\n      this.$store.dispatch('setupUser', { answers: {\n        age: parseInt(this.age),\n        gender: parseInt(this.gender),\n        email: this.email\n      }})\n    }\n  }\n}\n</script>\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Setup.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Please tell us a little bit about you\")]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"gender\"}},[_vm._v(\"Your gender:\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.gender),expression:\"gender\"}],staticClass:\"form-control\",attrs:{\"id\":\"gender\",\"aria-describedby\":\"genderHelp\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.gender=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"0\"}},[_vm._v(\"I'd rather not say\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"Male\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"Female\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\"Something else\")])]),_vm._v(\" \"),_c('small',{staticClass:\"form-text text-muted\",attrs:{\"id\":\"genderHelp\"}},[_vm._v(\"Because we all all different beasts\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"age\"}},[_vm._v(\"Your Age\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.age),expression:\"age\"}],staticClass:\"form-control\",attrs:{\"id\":\"age\",\"aria-describedby\":\"ageHelp\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.age=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"0\"}},[_vm._v(\"Select your age group\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"less than 10\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"10 to 20\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\"20 to 40\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"4\"}},[_vm._v(\"more than 40\")])]),_vm._v(\" \"),_c('small',{staticClass:\"form-text text-muted\",attrs:{\"id\":\"ageHelp\"}},[_vm._v(\"So we can tailor to your age group\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email address\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"email\",\"aria-describedby\":\"emailHelp\",\"placeholder\":\"Your email\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_vm._v(\" \"),_c('small',{staticClass:\"form-text text-muted\",attrs:{\"id\":\"emailHelp\"}},[_vm._v(\"We'll never share your email with anyone else.\")])]),_vm._v(\" \"),_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.answer}},[_vm._v(\"Continue\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-078c05ba\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Setup.vue\n// module id = 19\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5eb4efe1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Layout.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Layout.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5eb4efe1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Layout.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Layout.vue\n// module id = 20\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-5eb4efe1\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Layout.vue\n// module id = 21\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <header>\n      <span>CAN AR</span>\n    </header>\n    <main>\n      <router-view></router-view>\n    </main>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n\nmain {\n  text-align: center;\n  margin-top: 40px;\n}\n\nheader {\n  margin: 0;\n  height: 56px;\n  padding: 0 16px 0 24px;\n  background-color: #35495E;\n  color: #ffffff;\n}\n\nheader span {\n  display: block;\n  position: relative;\n  font-size: 20px;\n  line-height: 1;\n  letter-spacing: .02em;\n  font-weight: 400;\n  box-sizing: border-box;\n  padding-top: 16px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Layout.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_vm._m(0),_vm._v(\" \"),_c('main',[_c('router-view')],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',[_c('span',[_vm._v(\"CAN AR\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5eb4efe1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Layout.vue\n// module id = 23\n// module chunks = 1","import config from '@/config'\r\n// import _ from 'lodash'\r\n\r\nvar dbErrorHandle = function (event) {\r\n  console.log('Database error: ', event.target.errorCode, event)\r\n}\r\nexport default {\r\n  init: function (cb) {\r\n    var request = indexedDB.open(config.app, config.state.version)\r\n    request.onerror = function (event) {\r\n      alert('Error initialising database: your browser must support IndexedDB')\r\n    }\r\n    request.onupgradeneeded = function (event) {\r\n      var db = event.target.result\r\n      if (event.oldVersion >= 1) {\r\n        db.deleteObjectStore('user')\r\n      }\r\n      db.createObjectStore('user')\r\n      window.localDB = db\r\n      window.localDB.onerror = dbErrorHandle\r\n    }\r\n    request.onsuccess = function (event) {\r\n      window.localDB = event.target.result\r\n      window.localDB.onerror = dbErrorHandle\r\n      cb()\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/state/local.js","let state = {\r\n  experience: {\r\n    type: 'image',\r\n    src: 'static/experience/image.png'\r\n  },\r\n  waiting: false\r\n}\r\n\r\nlet mutations = {\r\n  waiting: function (state, status) {\r\n    state.waiting = status\r\n  }\r\n}\r\n\r\nlet actions = {\r\n  init: function (context) {\r\n  },\r\n  waiting: function (context, status) {\r\n    context.commit('waiting', status)\r\n  }\r\n}\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/state/modules/ui.js","import config from '@/config'\r\nimport $ from 'jquery'\r\nimport uuidV1 from 'uuid/v1'\r\nimport router from '@/router'\r\n\r\nlet url = config.state.datatypes.user.url\r\n\r\nlet state = {\r\n  waiting: false,\r\n  name: '',\r\n  email: '',\r\n  id: null,\r\n  qa: {}\r\n}\r\n\r\nlet mutations = {\r\n  set_user: function (state, user) {\r\n    if (user.name) state.name = user.name\r\n    if (user.location) state.location = user.location\r\n    if (user.info) state.info = user.info\r\n    state.id = user.id\r\n  },\r\n  set_qa: function (state, qa) {\r\n    state.qa.id = qa.id\r\n    state.qa.question = qa.question\r\n    state.qa.answer = qa.answer\r\n  },\r\n  user_wait: function (state, status) {\r\n    state.waiting = status\r\n  }\r\n}\r\n\r\nlet actions = {\r\n  init: function (context) {\r\n    let newSession = function () {\r\n      let postData = {\r\n        // name: state.name,\r\n        location: 0,\r\n        info: state.info,\r\n        // email: state.email,\r\n        id: state.id\r\n      }\r\n      if (!postData.id) postData.id = uuidV1()\r\n      let cb = function (position) {\r\n        if (position) {\r\n          postData.location = {\r\n            lat: position.coords.latitude,\r\n            lng: position.coords.longitude,\r\n            acc: position.coords.accuracy,\r\n            ts: position.timestamp\r\n          }\r\n        }\r\n        context.commit('set_user', postData)\r\n        context.dispatch('save_local')\r\n        $.ajax({\r\n          url: url,\r\n          type: 'POST',\r\n          dataType: 'json',\r\n          data: postData,\r\n          headers: {\r\n            'Authorization': 'JWT ' + config.token\r\n          },\r\n          success: function (result) {\r\n            context.commit('user_wait', false)\r\n            context.commit('set_qa', result.qa)\r\n          },\r\n          error: function (xhr, status, error) {\r\n            console.log('Server error' + status)\r\n          }\r\n        })\r\n      }\r\n      let getNav = function () {\r\n        if (navigator.geolocation) {\r\n          navigator.geolocation.getCurrentPosition(cb)\r\n        } else {\r\n          cb(null)\r\n        }\r\n      }\r\n      if (!postData.info) {\r\n        router.push('/setup')\r\n      } else {\r\n        getNav()\r\n      }\r\n    }\r\n    console.log('init')\r\n    context.dispatch('check_local', { db: 'user', cb: newSession })\r\n  },\r\n  postAnswer: function (context) {\r\n    context.commit('user_wait', true)\r\n    let postData = {\r\n      uid: state.id,\r\n      qid: state.qa.id,\r\n      answer: state.qa.answer\r\n    }\r\n    $.ajax({\r\n      url: url,\r\n      type: 'POST',\r\n      dataType: 'json',\r\n      data: postData,\r\n      headers: {\r\n        'Authorization': 'JWT ' + config.token\r\n      },\r\n      success: function (result) {\r\n        context.commit('user_wait', false)\r\n        context.commit('set_qa', result.qa)\r\n      },\r\n      error: function (xhr, status, error) {\r\n        console.log('Server error' + status)\r\n      }\r\n    })\r\n  },\r\n  answerQuestion: function (context, { answer }) {\r\n    context.commit('set_qa', {\r\n      id: state.qa.id,\r\n      question: state.qa.question,\r\n      answer\r\n    })\r\n    context.dispatch('save_local')\r\n    context.dispatch('postAnswer')\r\n  },\r\n  setupUser: function (context, { answers }) {\r\n    console.log(answers)\r\n    context.commit('set_user', { info: answers })\r\n    context.dispatch('save_local')\r\n    router.push('/ar')\r\n  },\r\n  save_local ({state, commit}) {\r\n    var db = window.localDB\r\n    var tr = db.transaction(['user'], 'readwrite')\r\n    tr.objectStore('user').put(state, 'session')\r\n  },\r\n  check_local ({state, commit, dispatch}, {db, cb}) {\r\n    var tr = window.localDB.transaction(['user'], 'readwrite')\r\n    var localSession = tr.objectStore('user').get('session')\r\n    localSession.onsuccess = function (event) {\r\n      if (localSession.result) {\r\n        commit('set_user', localSession.result)\r\n      }\r\n      cb()\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/state/modules/user.js"],"sourceRoot":""}