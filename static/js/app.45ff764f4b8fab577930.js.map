{"version":3,"sources":["webpack:///./src/router.js","webpack:///./src/config.js","webpack:///./src/main.js","webpack:///./src/components/Arpage.vue","webpack:///./src/components/Arpage.vue?d392","webpack:///src/components/Arpage.vue","webpack:///./src/components/Arpage.vue?1aa2","webpack:///./src/components/Setup.vue","webpack:///./src/components/Setup.vue?3e0c","webpack:///src/components/Setup.vue","webpack:///./src/components/Setup.vue?ca0e","webpack:///./src/components/Layout.vue","webpack:///./src/components/Layout.vue?c546","webpack:///src/components/Layout.vue","webpack:///./src/components/Layout.vue?8da1","webpack:///./src/state/local.js","webpack:///./src/state/modules/ui.js","webpack:///./src/state/modules/user.js"],"names":["Vue","use","routes","path","component","children","redirect","Arpage","app","token","state","version","commonDB","key","index","unique","datatypes","user","url","dataModel","id","dataType","type","srcUrl","cb","store","Vuex","Store","strict","modules","ui","StateUser","config","productionTip","devtools","router","$mount","localDatabase","init","dbErrorHandle","event","console","log","target","errorCode","request","indexedDB","open","onerror","alert","onupgradeneeded","db","result","oldVersion","deleteObjectStore","createObjectStore","window","localDB","onsuccess","experience","src","waiting","mutations","status","actions","context","commit","name","email","info","gender","age","qa","question","options","answer","set_user","location","set_qa","user_wait","newSession","push","dispatch","postToServer","postData","latitude","longitude","agebucket","userid","questionid","answerid","uuidV1","position","coords","d","Date","datetimestamp","toISOString","lat","lng","$","ajax","data","JSON","stringify","headers","success","QuestionID","Question","Answer1","Answer2","Answer3","Answer4","error","xhr","navigator","geolocation","getCurrentPosition","answerQuestion","setupUser","answers","save_local","tr","transaction","objectStore","put","check_local","localSession","get"],"mappings":"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","file":"static/js/app.45ff764f4b8fab577930.js","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport Arpage from '@/components/Arpage'\nimport Setup from '@/components/Setup'\nimport Layout from '@/components/Layout'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      component: Layout,\n      children: [\n        { path: 'setup', component: Setup },\n        { path: '', redirect: 'ar' }\n      ]\n    },\n    {\n      path: '/ar',\n      component: Arpage\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router.js","export default {\r\n  app: 'can-ar',\r\n  token: 'dfa4t0ufshudvv0s0',\r\n  state: {\r\n    version: 3,\r\n    commonDB: {\r\n      key: 'id',\r\n      index: [\r\n        { index: 'key', path: 'key', unique: false }\r\n      ]\r\n    },\r\n    datatypes: {\r\n      user: {\r\n        url: 'http://cannedreality.azurewebsites.net/api/v4',\r\n        dataModel: {\r\n          id: {\r\n            dataType: 'number'\r\n          },\r\n          type: {\r\n            dataType: 'number'\r\n          },\r\n          srcUrl: {\r\n            dataType: 'string'\r\n          }\r\n        },\r\n        index: [\r\n          { index: 'type', path: 'data.type', unique: false }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\n// import App from './App'\nimport Vuex from 'vuex'\nimport router from '@/router'\nimport BootstrapVue from 'bootstrap-vue'\nimport localDatabase from './state/local'\nimport StateInterface from './state/modules/ui'\nimport StateUser from './state/modules/user'\n\nVue.use(Vuex)\nVue.use(BootstrapVue)\n\n/* eslint-disable no-new */\n// new Vue({\n//   el: '#app',\n//   router,\n//   template: '<App/>',\n//   components: { App }\n// })\n\nvar cb = function () {\n  let store = new Vuex.Store({\n    strict: true,\n    modules: {\n      ui: StateInterface,\n      user: StateUser\n    }\n    // middlewares: [\n    //   Logger()\n    // ]\n  })\n\n  Vue.config.productionTip = false\n  Vue.config.devtools = true\n  new Vue({\n    router,\n    store\n  }).$mount('#app')\n  // new Vue({\n  //   el: '#app',\n  //   router,\n  //   store\n  // })\n  // new Vue({\n  //   el: '#app',\n  //   router,\n  //   store,\n  //   template: '<App/>',\n  //   components: { App }\n  // })\n}\nlocalDatabase.init(cb)\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e2c886f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Arpage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Arpage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e2c886f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Arpage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Arpage.vue\n// module id = 11\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4e2c886f\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Arpage.vue\n// module id = 12\n// module chunks = 1","<template>\n  <div>\n    <div style=\"position:absolute; left:0px; top:0px; width:100%; height:100%; overflow-x: hidden; overflow-y: hidden\">\n      <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false; trackingMethod: best;'>\n      <!-- <a-scene embedded arjs='trackingMethod: best;'> -->\n        <a-assets>\n          <img id='earth' src='https://raw.githubusercontent.com/aframevr/sample-assets/master/assets/images/space/earth_atmos_4096.jpg'/>\n          <img id='picpic' src='/static/img/pics.jpg'/>\n        </a-assets>\n        <a-anchor hit-testing-enabled='true'>\n          <a-entity id=\"jim\"\n            geometry=\"primitive: box; depth: 1; height: 1; width: 1\"\n            material='src: #picpic;'\n            ring-on-beat=\"analyserEl: #analyser\"\n            position=\"0 0.25 0\">\n            <!-- <a-animation attribute=\"rotation\"\n              dur=\"7000\"\n              to=\"0 360 0\"\n              easing= \"linear\"\n              repeat=\"indefinite\">\n            </a-animation> -->\n          </a-entity>\n        </a-anchor>\n        <a-camera-static/>\n      </a-scene>\n\n      <div style=\"position:absolute; left:10px; top:10px; z-index:100\">\n        <b-button v-on:click=\"\" style=\"z-index:200\">Product Info</b-button>\n      </div>\n      <div style=\"position:absolute; left:10px; bottom:10px; z-index:100;\"\n      v-on:click=\"\">\n        <b-img src=\"/static/img/icons/fb-128x128.png\" style=\"z-index:200; max-width:50px\" />\n      </div>\n      <div style=\"position:absolute; left:70px; bottom:10px; z-index:100;\"\n      v-on:click=\"\">\n        <b-img src=\"/static/img/icons/tw-128x128.png\" style=\"z-index:200; max-width:50px\" />\n      </div>\n\n    </div>\n    <div class=\"\">\n\n    </div>\n    <b-modal ref=\"questions\" @hidden=\"onQuestionHidden\" tabindex=\"-1\" role=\"dialog\"\n      hide-header=\"true\" hide-footer=\"true\" ok-title=\"Enough Questions Already!\"\n      aria-labelledby=\"questionsLabel\" aria-hidden=\"true\">\n      <div class=\"d-block text-center\">\n        <h3 style=\"color:white\">{{user.qa.question}}</h3>\n        <b-container>\n          <b-row>\n            <b-col v-for=\"(item, index) in user.qa.options\" :key=\"index\">\n              <b-button v-on:click=\"sendAnswer(index)\" variant=\"success\" size=\"sm\" style=\"margin-top:20px\">{{item}}</b-button>\n            </b-col>\n          </b-row>\n        </b-container>\n      </div>\n    </b-modal>\n    <b-modal ref=\"messages\" tabindex=\"-1\" role=\"dialog\"\n      hide-header=\"true\" hide-footer=\"true\"\n      aria-labelledby=\"questionsLabel\" aria-hidden=\"true\">\n      <div class=\"d-block text-center\">\n        <h3 style=\"color:white\">{{messages[msg]}}</h3>\n      </div>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'arpage',\n  data () {\n    return {\n      counter: 0,\n      msg: 0,\n      qns: 0,\n      initialDelay: 10,\n      numberQuestions: 2,\n      answer: '',\n      intervalFunction: 0,\n      messages: [\n        'Pic would love to chat...',\n        'What are you doing with my peanut butter?'\n      ]\n    }\n  },\n  computed: mapState([\n    'user'\n  ]),\n  created () {\n    this.$store.dispatch('init')\n    this.intervalFunction = setInterval(this.timer, 5000)\n  },\n  destroyed: function () {\n    clearInterval(this.intervalFunction)\n  },\n  methods: {\n    sendAnswer: function (answer) {\n      this.qns++\n      this.$refs.questions.hide()\n      this.$store.dispatch('answerQuestion', {\n        answer: 'Answer' + answer\n      })\n    },\n    onQuestionHidden: function () {\n      if (this.qns < this.numberQuestions) {\n        setTimeout(function () {\n          if (this.user.qa.id !== 0) this.$refs.questions.show()\n        }.bind(this), 5000)\n      }\n    },\n    timer: function () {\n      this.counter += 5\n      if (this.counter === 5) {\n        this.$refs.messages.show()\n      }\n      if (this.counter > 5) {\n        if (this.msg < this.messages.length - 1) {\n          this.msg++\n        } else {\n          this.$refs.messages.hide()\n          if (this.user.qa.id !== 0) this.$refs.questions.show()\n          clearInterval(this.intervalFunction)\n        }\n      }\n    },\n    showQuestions: function () {\n      this.$refs.questions.show()\n    }\n  }\n}\n</script>\n<style>\n.modal-content {\n  background-color: rgba(0,0,0,0.2) !important;\n  /*opacity: 0 !important*/\n}\n.btn-sm {\n  min-width: 100px !important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Arpage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"position\":\"absolute\",\"left\":\"0px\",\"top\":\"0px\",\"width\":\"100%\",\"height\":\"100%\",\"overflow-x\":\"hidden\",\"overflow-y\":\"hidden\"}},[_c('a-scene',{attrs:{\"embedded\":\"\",\"arjs\":\"sourceType: webcam; debugUIEnabled: false; trackingMethod: best;\"}},[_c('a-assets',[_c('img',{attrs:{\"id\":\"earth\",\"src\":\"https://raw.githubusercontent.com/aframevr/sample-assets/master/assets/images/space/earth_atmos_4096.jpg\"}}),_vm._v(\" \"),_c('img',{attrs:{\"id\":\"picpic\",\"src\":\"/static/img/pics.jpg\"}})]),_vm._v(\" \"),_c('a-anchor',{attrs:{\"hit-testing-enabled\":\"true\"}},[_c('a-entity',{attrs:{\"id\":\"jim\",\"geometry\":\"primitive: box; depth: 1; height: 1; width: 1\",\"material\":\"src: #picpic;\",\"ring-on-beat\":\"analyserEl: #analyser\",\"position\":\"0 0.25 0\"}})],1),_vm._v(\" \"),_c('a-camera-static')],1),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"left\":\"10px\",\"top\":\"10px\",\"z-index\":\"100\"}},[_c('b-button',{staticStyle:{\"z-index\":\"200\"},on:{\"click\":function($event){}}},[_vm._v(\"Product Info\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"left\":\"10px\",\"bottom\":\"10px\",\"z-index\":\"100\"},on:{\"click\":function($event){}}},[_c('b-img',{staticStyle:{\"z-index\":\"200\",\"max-width\":\"50px\"},attrs:{\"src\":\"/static/img/icons/fb-128x128.png\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\",\"left\":\"70px\",\"bottom\":\"10px\",\"z-index\":\"100\"},on:{\"click\":function($event){}}},[_c('b-img',{staticStyle:{\"z-index\":\"200\",\"max-width\":\"50px\"},attrs:{\"src\":\"/static/img/icons/tw-128x128.png\"}})],1)],1),_vm._v(\" \"),_c('div',{}),_vm._v(\" \"),_c('b-modal',{ref:\"questions\",attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\",\"hide-header\":\"true\",\"hide-footer\":\"true\",\"ok-title\":\"Enough Questions Already!\",\"aria-labelledby\":\"questionsLabel\",\"aria-hidden\":\"true\"},on:{\"hidden\":_vm.onQuestionHidden}},[_c('div',{staticClass:\"d-block text-center\"},[_c('h3',{staticStyle:{\"color\":\"white\"}},[_vm._v(_vm._s(_vm.user.qa.question))]),_vm._v(\" \"),_c('b-container',[_c('b-row',_vm._l((_vm.user.qa.options),function(item,index){return _c('b-col',{key:index},[_c('b-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"variant\":\"success\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.sendAnswer(index)}}},[_vm._v(_vm._s(item))])],1)}))],1)],1)]),_vm._v(\" \"),_c('b-modal',{ref:\"messages\",attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\",\"hide-header\":\"true\",\"hide-footer\":\"true\",\"aria-labelledby\":\"questionsLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"d-block text-center\"},[_c('h3',{staticStyle:{\"color\":\"white\"}},[_vm._v(_vm._s(_vm.messages[_vm.msg]))])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e2c886f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Arpage.vue\n// module id = 15\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dcc03098\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Setup.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Setup.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dcc03098\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Setup.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Setup.vue\n// module id = 16\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-dcc03098\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Setup.vue\n// module id = 17\n// module chunks = 1","<template>\n  <b-container>\n    <h2>Customise your experience</h2>\n    <hr></hr>\n    <div class=\"form-group\">\n      <label for=\"gender\">Your gender:</label>\n      <select class=\"form-control\" id=\"gender\" v-model=\"gender\" aria-describedby=\"genderHelp\">\n        <option value=\"\"></option>\n        <option value=\"Male\">Male</option>\n        <option value=\"Female\">Female</option>\n        <option value=\"All\">Something else</option>\n      </select>\n      <small id=\"genderHelp\" class=\"form-text text-muted\">Because we all all different beasts</small>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"age\">Your Age</label>\n      <select class=\"form-control\" id=\"age\" v-model=\"age\" aria-describedby=\"ageHelp\">\n        <option value=\"\"></option>\n        <option value=\"0to15\">less than 15</option>\n        <option value=\"16to25\">16 to 25</option>\n        <option value=\"25to36\">26 to 35</option>\n        <option value=\"36to45\">36 to 45</option>\n        <option value=\"46to55\">46 to 55</option>\n        <option value=\"56plus\">more than 56</option>\n      </select>\n      <small id=\"ageHelp\" class=\"form-text text-muted\">So we can tailor to your age group</small>\n    </div>\n    <!-- <div class=\"form-group\">\n      <label for=\"email\">Email address</label>\n      <input type=\"email\" class=\"form-control\" id=\"email\" v-model=\"email\" aria-describedby=\"emailHelp\" placeholder=\"Your email\">\n      <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n    </div> -->\n    <b-button variant=\"primary\" v-on:click=\"answer\">Continue</b-button>\n    <b-modal hide-header=\"true\" ok-only=\"true\" ref=\"error\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\n      <div class=\"d-block text-center\">\n        <h3>FAIL!</h3>\n        Sorry but we need you to answer both questions\n      </div>\n    </b-modal>\n  </b-container>\n</template>\n\n<script>\nexport default {\n  name: 'setup',\n  data () {\n    return {\n      age: 0,\n      gender: 0,\n      email: null\n    }\n  },\n  created () {\n  },\n  methods: {\n    answer: function (answer) {\n      if (!this.age || !this.gender) {\n        this.$refs.error.show()\n      } else {\n        this.$store.dispatch('setupUser', { answers: {\n          age: this.age,\n          gender: this.gender,\n          email: this.email\n        }})\n      }\n    }\n  }\n}\n</script>\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Setup.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',[_c('h2',[_vm._v(\"Customise your experience\")]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"gender\"}},[_vm._v(\"Your gender:\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.gender),expression:\"gender\"}],staticClass:\"form-control\",attrs:{\"id\":\"gender\",\"aria-describedby\":\"genderHelp\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.gender=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"Male\"}},[_vm._v(\"Male\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"Female\"}},[_vm._v(\"Female\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"All\"}},[_vm._v(\"Something else\")])]),_vm._v(\" \"),_c('small',{staticClass:\"form-text text-muted\",attrs:{\"id\":\"genderHelp\"}},[_vm._v(\"Because we all all different beasts\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"age\"}},[_vm._v(\"Your Age\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.age),expression:\"age\"}],staticClass:\"form-control\",attrs:{\"id\":\"age\",\"aria-describedby\":\"ageHelp\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.age=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"\"}}),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"0to15\"}},[_vm._v(\"less than 15\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"16to25\"}},[_vm._v(\"16 to 25\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"25to36\"}},[_vm._v(\"26 to 35\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"36to45\"}},[_vm._v(\"36 to 45\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"46to55\"}},[_vm._v(\"46 to 55\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"56plus\"}},[_vm._v(\"more than 56\")])]),_vm._v(\" \"),_c('small',{staticClass:\"form-text text-muted\",attrs:{\"id\":\"ageHelp\"}},[_vm._v(\"So we can tailor to your age group\")])]),_vm._v(\" \"),_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.answer}},[_vm._v(\"Continue\")]),_vm._v(\" \"),_c('b-modal',{ref:\"error\",attrs:{\"hide-header\":\"true\",\"ok-only\":\"true\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"d-block text-center\"},[_c('h3',[_vm._v(\"FAIL!\")]),_vm._v(\"\\n      Sorry but we need you to answer both questions\\n    \")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dcc03098\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Setup.vue\n// module id = 19\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-51ecbb76\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Layout.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Layout.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-51ecbb76\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Layout.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Layout.vue\n// module id = 20\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-51ecbb76\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Layout.vue\n// module id = 21\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <header>\n      <b-component>\n        <b-img src=\"/static/img/icons/apple-touch-icon-120x120.png\" style=\"z-index:200; max-width:40px; float: left; margin:5px;\" />\n        <span style=\"float: left; margin-left:20px\">CANNED REALITY</span>\n      </b-component>\n    </header>\n    <main>\n      <router-view></router-view>\n    </main>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n\nmain {\n  text-align: center;\n  margin-top: 40px;\n}\n\nheader {\n  margin: 0;\n  height: 56px;\n  padding: 0 16px 0 24px;\n  background-color: #35495E;\n  color: #ffffff;\n}\n\nheader span {\n  display: block;\n  position: relative;\n  font-size: 20px;\n  line-height: 1;\n  letter-spacing: .02em;\n  font-weight: 400;\n  box-sizing: border-box;\n  padding-top: 16px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Layout.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('header',[_c('b-component',[_c('b-img',{staticStyle:{\"z-index\":\"200\",\"max-width\":\"40px\",\"float\":\"left\",\"margin\":\"5px\"},attrs:{\"src\":\"/static/img/icons/apple-touch-icon-120x120.png\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"float\":\"left\",\"margin-left\":\"20px\"}},[_vm._v(\"CANNED REALITY\")])],1)],1),_vm._v(\" \"),_c('main',[_c('router-view')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-51ecbb76\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Layout.vue\n// module id = 23\n// module chunks = 1","import config from '@/config'\r\n// import _ from 'lodash'\r\n\r\nvar dbErrorHandle = function (event) {\r\n  console.log('Database error: ', event.target.errorCode, event)\r\n}\r\nexport default {\r\n  init: function (cb) {\r\n    var request = indexedDB.open(config.app, config.state.version)\r\n    request.onerror = function (event) {\r\n      alert('Error initialising database: your browser must support IndexedDB')\r\n    }\r\n    request.onupgradeneeded = function (event) {\r\n      var db = event.target.result\r\n      if (event.oldVersion >= 1) {\r\n        db.deleteObjectStore('user')\r\n      }\r\n      db.createObjectStore('user')\r\n      window.localDB = db\r\n      window.localDB.onerror = dbErrorHandle\r\n    }\r\n    request.onsuccess = function (event) {\r\n      window.localDB = event.target.result\r\n      window.localDB.onerror = dbErrorHandle\r\n      cb()\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/state/local.js","let state = {\r\n  experience: {\r\n    type: 'image',\r\n    src: 'static/experience/image.png'\r\n  },\r\n  waiting: false\r\n}\r\n\r\nlet mutations = {\r\n  waiting: function (state, status) {\r\n    state.waiting = status\r\n  }\r\n}\r\n\r\nlet actions = {\r\n  init: function (context) {\r\n  },\r\n  waiting: function (context, status) {\r\n    context.commit('waiting', status)\r\n  }\r\n}\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/state/modules/ui.js","import config from '@/config'\r\nimport $ from 'jquery'\r\nimport uuidV1 from 'uuid/v1'\r\nimport router from '@/router'\r\n\r\nlet url = config.state.datatypes.user.url\r\n\r\nlet state = {\r\n  waiting: false,\r\n  name: '',\r\n  email: '',\r\n  id: null,\r\n  info: {\r\n    gender: '',\r\n    age: ''\r\n  },\r\n  qa: {\r\n    question: 'Not sure what to ask...',\r\n    options: ['Neither do I', 'Just ask me about peanut butter', 'Come back to me when your ready then'],\r\n    answer: ''\r\n  }\r\n}\r\n\r\nlet mutations = {\r\n  set_user: function (state, user) {\r\n    if (user.name) state.name = user.name\r\n    if (user.location) state.location = user.location\r\n    if (user.info) state.info = user.info\r\n    state.id = user.id\r\n  },\r\n  set_qa: function (state, qa) {\r\n    state.qa.id = qa.id\r\n    state.qa.question = qa.question\r\n    state.qa.options = qa.options\r\n    state.qa.answer = qa.answer\r\n  },\r\n  user_wait: function (state, status) {\r\n    state.waiting = status\r\n  }\r\n}\r\n\r\nlet actions = {\r\n  init: function (context) {\r\n    let newSession = function () {\r\n      if (state.info.gender === '' || state.info.age === '') {\r\n        router.push('/setup')\r\n      } else {\r\n        context.dispatch('postToServer')\r\n      }\r\n    }\r\n    console.log('init')\r\n    context.dispatch('check_local', { db: 'user', cb: newSession })\r\n  },\r\n  postToServer: function (context) {\r\n    let postData = {\r\n      latitude: '',\r\n      longitude: '',\r\n      gender: state.info.gender || '',\r\n      agebucket: state.info.age || '',\r\n      userid: state.id,\r\n      questionid: state.qa.id || '',\r\n      answerid: state.qa.answer || ''\r\n    }\r\n    if (!postData.userid) postData.userid = uuidV1()\r\n    let cb = function (position) {\r\n      if (position) {\r\n        postData.latitude = position.coords.latitude\r\n        postData.longitude = position.coords.longitude\r\n      }\r\n      let d = new Date()\r\n      postData.datetimestamp = d.toISOString()\r\n      context.commit('set_user', {\r\n        id: postData.userid,\r\n        location: {\r\n          lat: postData.latitude,\r\n          lng: postData.longitude\r\n        }\r\n      })\r\n      context.commit('set_qa', {\r\n        question: '',\r\n        id: 0,\r\n        options: [],\r\n        answer: ''\r\n      })\r\n      context.dispatch('save_local')\r\n      // console.log(JSON.stringify([postData]))\r\n      // let data = [postData]\r\n      $.ajax({\r\n        url: url,\r\n        type: 'POST',\r\n        dataType: 'json',\r\n        // contentType: 'application/json',\r\n        data: JSON.stringify([postData]),\r\n        headers: {\r\n          // 'Authorization': 'JWT ' + config.token\r\n          // 'Content-Type': 'application/json'\r\n        },\r\n        success: function (result) {\r\n          context.commit('user_wait', false)\r\n          let qa = {\r\n            id: '',\r\n            question: '',\r\n            options: [],\r\n            answer: ''\r\n          }\r\n          if (result[0].QuestionID !== '') {\r\n            qa.id = result[0].QuestionID\r\n            qa.question = result[0].Question\r\n            if (result[0].Answer1 !== '') qa.options.push(result[0].Answer1)\r\n            if (result[0].Answer2 !== '') qa.options.push(result[0].Answer2)\r\n            if (result[0].Answer3 !== '') qa.options.push(result[0].Answer3)\r\n            if (result[0].Answer4 !== '') qa.options.push(result[0].Answer4)\r\n            context.commit('set_qa', qa)\r\n          }\r\n        },\r\n        error: function (xhr, status, error) {\r\n          console.log('Server error' + status)\r\n        }\r\n      })\r\n    }\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(cb)\r\n    } else {\r\n      cb(null)\r\n    }\r\n  },\r\n  answerQuestion: function (context, { answer }) {\r\n    context.commit('set_qa', {\r\n      id: state.qa.id,\r\n      question: state.qa.question,\r\n      options: state.qa.options,\r\n      answer\r\n    })\r\n    context.dispatch('save_local')\r\n    context.dispatch('postToServer')\r\n  },\r\n  setupUser: function (context, { answers }) {\r\n    context.commit('set_user', { info: answers })\r\n    context.dispatch('save_local')\r\n    router.push('/ar')\r\n  },\r\n  save_local ({state, commit}) {\r\n    var db = window.localDB\r\n    var tr = db.transaction(['user'], 'readwrite')\r\n    tr.objectStore('user').put(state, 'session')\r\n  },\r\n  check_local ({state, commit, dispatch}, {db, cb}) {\r\n    var tr = window.localDB.transaction(['user'], 'readwrite')\r\n    var localSession = tr.objectStore('user').get('session')\r\n    localSession.onsuccess = function (event) {\r\n      if (localSession.result) {\r\n        commit('set_user', localSession.result)\r\n      }\r\n      cb()\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/state/modules/user.js"],"sourceRoot":""}